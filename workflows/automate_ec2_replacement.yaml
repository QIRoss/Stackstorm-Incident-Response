---
name: "automate_ec2_replacement"
description: "Automatically replace a crashed medium EC2 instance with a large one."
pack: "aws"
type: "action-chain"
actions:
  stop_medium_instance:
    ref: "aws.stop_instance"
    parameters:
      instance_id: "{{trigger.instance_id}}"
  launch_large_instance:
    ref: "aws.create_instance"
    parameters:
      instance_type: "t2.large"
      image_id: "{{trigger.image_id}}"
      key_name: "your-key-pair"
      security_group_ids: ["your-security-group-id"]
  terminate_medium_instance:
    ref: "aws.terminate_instance"
    parameters:
      instance_id: "{{trigger.instance_id}}"
    on-success: launch_large_instance
